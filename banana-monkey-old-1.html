<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Banana Monkey</title>

    <script src="https://d309knd7es5f10.cloudfront.net/createjs_1.1_min.js"></script>
    <script src="https://d309knd7es5f10.cloudfront.net/zim_10. js"></script>
    <script src="https://d309knd7es5f10.cloudfront.net/Box2dWeb-2.1.a.3.min.js"></script>
    <script src="https://d309knd7es5f10.cloudfront.net/physics_2.0.js"></script>
    <!-- <script src="https://d309knd7es5f10.cloudfront.net/pizzazz_03.js"></script> -->

    <script>

        var scaling = "fit";
        var width = 1280;
        var height = 720;
        var color = light;
        var outerColor = dark;
        var assets = ["banana.png", "brick.png", "trees.png", "monkey.png", "basket.png", "grass.png", "background.jpg"];
        var path = "images/";

        var frame = new Frame(scaling, width, height, color, outerColor, assets, path);
        frame.on("ready", function () {
            zog("Ready from ZIM Frame");

            var stage = frame.stage;
            var stageW = frame.width;
            var stageH = frame.height;

            // see https://zimjs.com/learn.html for video and code tutorials
            // see https://zimjs.com/docs.html for documentation
            // see https://zimjs.com/bits.html for 64 Interactive Media techniques

            // put your code here:

            // var bg = frame.asset("background.jpg").sca(.7)
            // .centerReg().mov(0, -100)

            var bg = frame.asset("background.jpg").center();


            var physics = new Physics(10, new Boundary(bg.x, bg.y, bg.width, bg.height), true);
		  // var physics = new Physics(10);


            // var physics = new Physics({gravity:10, scroll:true});

            // var ground = frame.asset("grass.png")
            //     // .centerReg()
            //     .loc(0, 0);
            // // .mov(400,0)
		  //
            // var basket = frame.asset("basket.png").sca(.7)
            //     .centerReg().outline()
            //     // .pos(null, null, true, true)
		  //
            // var tree = frame.asset("trees.png").sca(.7)
            //     .centerReg()
            //     .pos(null, null, true, true)
            //     .mov(400, 0)

            // var rectangle = new Rectangle(10, 50, brown).centerReg().pos(null,null,true,true).top()
            var monkey1 = frame.asset("monkey.png").sca(.5)
               .centerReg()
               .loc(-38, 1225)
            	.addPhysics(false);

		  var monkey2 = monkey1.clone().addTo().loc(413, 1381).addPhysics(false);
		  var monkey3 = monkey2.clone().addTo().loc(1200, 959).addPhysics(false);

		  // monkey1.copy().mov(-100)

            // var rect = {x:bg.x, y:backing.y, width:backing.width, height:backing.height};
            // physics.borders();

            // physics.remove(physics.borderTop);
            // physics.remove(physics.borderRight);

            physics.debug();



            // .addPhysics(false); // will stay in its position but banana will bounce off it

            var obstacle = frame.asset("brick.png")
                .centerReg()
                .loc(712, 435)
                .addPhysics(false); // will stay in its position but banana will bounce off it

            // var banana = frame.asset("banana.png").sca(.2)
            //     .centerReg()
            //     .pos(0, null, false, true)
            //     .addPhysics({ restitution: 0.5, contract: 10, shape: "circle" })
            //     .control()
            //     .follow()
            //     .reg(315, 343)
            // // banana.drag({boundary:new Boundary(banana.x,200, 200, 500)})
            // physics.drag();

            makeBanana();

            // banana.contact(function (obj, body) {
            //     if (obj == tree) {
            //         obj.color = blue;
            //     }
            //     if (obj == monkey1) {
            //         zog("hit monkey");
            //         banana.removePhysics();
            //         banana.removeFrom();
            //         monkey1.removePhysics();
            //         monkey1.removeFrom();
            //     }
                // if (body == physics.borderBottom) {
                //    zog("hit")
                // 	banana.on("mouseup", function() {
                // 	zog("mousedown")
                // 	banana.removePhysics()
                //  	// makeBanana();
                //  	banana.pos(0, null, false, true).outline()
                // })
                // }
            // });

		  var banana;

            function makeBanana() {
			banana = frame.asset("banana.png").sca(.2)
	               .centerReg()
	               .loc(-400, stageH*2)
	               .addPhysics({ restitution: 0.5, contract: 10, shape: "circle" })
	               .control()
	               .follow()
	               .reg(315, 343);
               physics.drag();
		 }

			 banana.contact(function (obj, body) {
                    if (obj == monkey1) {
                        banana.removePhysics();
                        banana.removeFrom();
				    monkey1.removePhysics();
		              monkey1.removeFrom();
                        makeBanana();
			    }
			    if (obj == monkey2) {
				   banana.removePhysics();
				   banana.removeFrom();
				   monkey2.removePhysics();
				   monkey2.removeFrom();
				   makeBanana();
			   }
			   if (obj == monkey3) {
				  banana.removePhysics();
				  banana.removeFrom();
				  monkey3.removePhysics();
				  monkey3.removeFrom();
				  makeBanana();
			  }
            });

            stage.update();

        });

    </script>

    <meta name="viewport" content="width=device-width, user-scalable=no" />

</head>

<body>
    <!-- Canvas with id="myCanvas" is made by ZIM Frame -->
</body>

</html>
